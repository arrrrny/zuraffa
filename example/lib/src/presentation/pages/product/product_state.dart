// Generated by zfa
// zfa generate Product --methods=get,getList,create,update,delete,watch,watchList --state

import 'package:zuraffa/zuraffa.dart';
import '../../../domain/entities/product/product.dart';

/// Immutable state for Product
class ProductState {
  /// The current error, if any
  final AppFailure? error;

  /// The list of Product entities
  final List<Product> productList;

  /// The single Product entity
  final Product? product;

  /// Whether get operation is in progress
  final bool isGetting;

  /// Whether getList operation is in progress
  final bool isGettingList;

  /// Whether create operation is in progress
  final bool isCreating;

  /// Whether update operation is in progress
  final bool isUpdating;

  /// Whether delete operation is in progress
  final bool isDeleting;

  /// Whether watch operation is in progress
  final bool isWatching;

  /// Whether watchList operation is in progress
  final bool isWatchingList;

  const ProductState({
    this.error,
    this.productList = const [],
    this.product,
    this.isGetting = false,
    this.isGettingList = false,
    this.isCreating = false,
    this.isUpdating = false,
    this.isDeleting = false,
    this.isWatching = false,
    this.isWatchingList = false,
  });

  /// Create a copy of this state with the given fields replaced.
  ProductState copyWith({
    AppFailure? error,
    bool clearError = false,
    List<Product>? productList,
    Product? product,
    bool? isGetting,
    bool? isGettingList,
    bool? isCreating,
    bool? isUpdating,
    bool? isDeleting,
    bool? isWatching,
    bool? isWatchingList,
  }) {
    return ProductState(
      productList: productList ?? this.productList,
      product: product ?? this.product,
      error: clearError ? null : (error ?? this.error),
      isGetting: isGetting ?? this.isGetting,
      isGettingList: isGettingList ?? this.isGettingList,
      isCreating: isCreating ?? this.isCreating,
      isUpdating: isUpdating ?? this.isUpdating,
      isDeleting: isDeleting ?? this.isDeleting,
      isWatching: isWatching ?? this.isWatching,
      isWatchingList: isWatchingList ?? this.isWatchingList,
    );
  }

  /// Whether any operation is currently loading
  bool get isLoading =>
      isGetting ||
      isGettingList ||
      isCreating ||
      isUpdating ||
      isDeleting ||
      isWatching ||
      isWatchingList;

  /// Whether there is an error to display
  bool get hasError => error != null;

  @override
  bool operator ==(Object other) =>
      identical(this, other) ||
      (other is ProductState &&
          runtimeType == other.runtimeType &&
          productList == other.productList &&
          product == other.product &&
          error == other.error &&
          isGetting == other.isGetting &&
          isGettingList == other.isGettingList &&
          isCreating == other.isCreating &&
          isUpdating == other.isUpdating &&
          isDeleting == other.isDeleting &&
          isWatching == other.isWatching &&
          isWatchingList == other.isWatchingList);

  @override
  int get hashCode =>
      productList.hashCode ^
      product.hashCode ^
      error.hashCode ^
      isGetting.hashCode ^
      isGettingList.hashCode ^
      isCreating.hashCode ^
      isUpdating.hashCode ^
      isDeleting.hashCode ^
      isWatching.hashCode ^
      isWatchingList.hashCode;

  @override
  String toString() =>
      'ProductState(productList: ${productList.length}, product: $product, isLoading: $isLoading, error: $error)';
}
